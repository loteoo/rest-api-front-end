parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"/xJO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=O,exports.h=exports.Lazy=void 0;var e=0,n=1,r=2,t=3,l="http://www.w3.org/1999/xlink",o="http://www.w3.org/2000/svg",u={},i=[],f=i.map,a=Array.isArray,s=function(e,n){var r={};for(var t in e)r[t]=e[t];for(var t in n)r[t]=n[t];return r},c="function"==typeof Promise&&Promise.resolve(),p=c?function(e){return c.then(e)}:setTimeout;function v(e){var n,r="",t=typeof e;if("string"===t||"number"===t)return e||"";if(a(e)&&e.length>0)for(var l=0,o=e.length;l<o;l++)""!==(n=v(e[l]))&&(r+=(r&&" ")+n);else for(var l in e)e.hasOwnProperty(l)&&e[l]&&(r+=(r&&" ")+l);return r}var h=function(e,n,r,t,o,u){if("key"===n);else if("style"===n)for(var i in s(r,t)){var f=null==t||null==t[i]?"":t[i];"-"===i[0]?e[n].setProperty(i,f):e[n][i]=f}else if("class"===n)(t=v(t))?e.setAttribute(n,t):e.removeAttribute(n);else if("o"===n[0]&&"n"===n[1])n=n.slice(2).toLowerCase(),e.events||(e.events={}),e.events[n]=t,null==t?e.removeEventListener(n,o):null==r&&e.addEventListener(n,o);else{var a=null==t||!1===t;if(n in e&&"list"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!u)e[n]=null==t?"":t,a&&e.removeAttribute(n);else u&&n!==(n=n.replace(/^xlink:?/,""))?a?e.removeAttributeNS(l,n):e.setAttributeNS(l,n,t):a?e.removeAttribute(n):e.setAttribute(n,t)}},m=function(e,n,r,l){var u=e.type===t?document.createTextNode(e.name):(l=l||"svg"===e.name)?document.createElementNS(o,e.name):document.createElement(e.name),i=e.props;i.onCreate&&n.push(function(){i.onCreate(u)});for(var f=0,a=e.children.length;f<a;f++)u.appendChild(m(e.children[f]=A(e.children[f]),n,r,l));for(var s in i)h(u,s,null,i[s],r,l);return e.element=u},d=function(e,n,r,t,l,o,u){for(var i in s(n,r))("value"===i||"checked"===i?e[i]:n[i])!==r[i]&&h(e,i,n[i],r[i],l,o);var f=u?r.onCreate:r.onUpdate;null!=f&&t.push(function(){f(e,n)})},y=function(e){for(var n=0,r=e.children.length;n<r;n++)y(e.children[n]);var t=e.props.onDestroy;return null!=t&&t(e.element),e.element},g=function(e,n){var r=function(){e.removeChild(y(n))},t=n.props&&n.props.onRemove;null!=t?t(n.element,r):r()},b=function(e){return null==e?null:e.key},w=function(e,n,r){for(var t,l,o={};n<=r;n++)null!=(t=(l=e[n]).key)&&(o[t]=l);return o},k=function(e,r,l,o,u,i,f){if(o===l);else if(null!=l&&l.type===t&&o.type===t)l.name!==o.name&&(r.nodeValue=o.name);else if(null==l||l.name!==o.name){var a=e.insertBefore(m(o=A(o),u,i,f),r);null!=l&&g(e,l),r=a}else{var s,c,p;d(r,l.props,o.props,u,i,f=f||"svg"===o.name,l.type===n);for(var v,h=l.children,y=0,x=h.length-1,C=o.children,z=0,L=C.length-1;z<=L&&y<=x&&(p=b(h[y]),v=b(C[z]),null!=p&&p===v);)k(r,h[y].element,h[y],C[z]=A(C[z],h[y]),u,i,f),y++,z++;for(;z<=L&&y<=x&&(p=b(h[x]),v=b(C[L]),null!=p&&p===v);)k(r,h[x].element,h[x],C[L]=A(C[L],h[x]),u,i,f),x--,L--;if(y>x)for(;z<=L;)r.insertBefore(m(C[z]=A(C[z++]),u,i,f),(c=h[y])&&c.element);else if(z>L)for(;y<=x;)g(r,h[y++]);else{for(var N=w(h,y,x),P={};z<=L;)p=b(c=h[y]),v=b(C[z]=A(C[z],c)),P[p]||null!=v&&v===b(h[y+1])?(null==p&&g(r,c),y++):null==v||l.type===n?(null==p&&(k(r,c&&c.element,c,C[z],u,i,f),z++),y++):(p===v?(k(r,c.element,c,C[z],u,i,f),P[v]=!0,y++):null!=(s=N[v])?(k(r,r.insertBefore(s.element,c&&c.element),s,C[z],u,i,f),P[v]=!0):k(r,c&&c.element,null,C[z],u,i,f),z++);for(;y<=x;)null==b(c=h[y++])&&g(r,c);for(var E in N)null==P[E]&&g(r,N[E])}}return o.element=r},x=function(e,n){for(var r in e)if(e[r]!==n[r])return!0;for(var r in n)if(e[r]!==n[r])return!0},A=function(e,n){return e.type===r?!n||x(e.lazy,n.lazy)?e.render():n:e},C=function(e,n,r,t,l,o){return{name:e,props:n,children:r,element:t,key:l,type:o}},z=function(e,n){return C(e,u,i,n,null,t)},L=function(e){return e.nodeType===t?z(e.nodeValue,e):N(e)},N=function(e){return C(e.nodeName.toLowerCase(),u,f.call(e.childNodes,L),e,null,n)},P=function(e,n,r,t,l){var o=[];for(n=k(e,n,r,t,o,l);o.length>0;)o.pop()();return n},E=function(e){return{type:r,key:e.key,lazy:e,render:function(){var n=e.render(e);return n.lazy=e,n}}};exports.Lazy=E;var T=function(n,r){for(var t,l=[],o=[],u=arguments.length;u-- >2;)l.push(arguments[u]);for(null!=(r=null==r?{}:r).children&&(l.length<=0&&l.push(r.children),delete r.children);l.length>0;)if(a(t=l.pop()))for(u=t.length;u-- >0;)l.push(t[u]);else!1===t||!0===t||null==t||o.push("object"==typeof t?t:z(t));return"function"==typeof n?n(r,r.children=o):C(n,r,o,null,r.key,e)};exports.h=T;var B=function(e,n){return a(e)&&a(n)&&"function"==typeof e[0]&&e[0]===n[0]},S=function(e,n){for(var r in s(e,n)){if(e[r]!==n[r]&&!B(e[r],n[r]))return!0;n[r]=e[r]}},j=function(e,n,r){if(e&&(!e[0]||a(e[0]))||n&&(!n[0]||a(n[0]))){for(var t=[],l=e||[e],o=n||[n],u=0;u<l.length||u<o.length;u++)t.push(j(l[u],o[u],r));return t}return e?!n||e[0]!==n[0]||S(e[1],n[1])?[e[0],e[1],e[0](e[1],r),n&&n[2]()]:n:n&&n[2]()};function O(e){var n,r,t=e.view,l=e.subscriptions,o=e.container,u=o&&o.children[0],i=u&&N(u),f=!1,s=function(e){n!==e&&(n=e,f||(f=!0,p(h)))},c=function(e,r){null==e||("function"==typeof e?c(e(n,r)):a(e)?"function"==typeof e[0]?c(e[0](n,e[1],r)):e[1][0](e[1][1],c,s(e[0])):s(e))},v=function(e){c(e.currentTarget.events[e.type],e)},h=function(){f=!1,l&&(r=j(l(n),r,c)),t&&(u=P(o,u,i,i=t(n),v))};c(e.init)}
},{}],"Rpok":[function(require,module,exports) {

},{}],"wGeL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=void 0;var e={userId:null,isFetching:!0,fetched:void 0,users:[],userData:{}};exports.init=e;
},{}],"FO+Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.enableOnMountDomEvent=exports.Link=exports.Location=exports.Http=void 0;var t=require("hyperapp");function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}function r(t,n){if(null==t)return{};var r,o,u=e(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)r=a[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(u[r]=t[r])}return u}function e(t,n){if(null==t)return{};var r,e,o={},u=Object.keys(t);for(e=0;e<u.length;e++)r=u[e],n.indexOf(r)>=0||(o[r]=t[r]);return o}var o="//"+window.location.hostname+":8000/api",u=function(t,n){var r=t.url,e=t.action,u=t.error;return fetch(o+r,{}).then(function(t){return t.json()}).then(function(t){return n(e,t)}).catch(function(t){return n(u,t)})},a=function(t,n){var r=t.url,e=t.data,u=t.action,a=t.error;return fetch(o+r,{method:"post",body:e}).then(function(t){return t.json()}).then(function(t){return n(u,t)}).catch(function(t){return n(a,t)})},c=function(t,n){var r=t.url,e=t.data,u=t.action,a=t.error;return fetch(o+r,{method:"put",body:e}).then(function(t){return t.json()}).then(function(t){return n(u,t)}).catch(function(t){return n(a,t)})},i=function(t,n){var r=t.url,e=t.action,u=t.error;return fetch(o+r,{method:"delete"}).then(function(t){return t.json()}).then(function(t){return n(e,t)}).catch(function(t){return n(u,t)})},f={get:function(t){var n=t.url,r=t.action,e=t.error;return[u,{url:n,action:r,error:e}]},post:function(t){var n=t.url,r=t.data,e=t.action,o=t.error;return[a,{url:n,data:r,action:e,error:o}]},put:function(t){var n=t.url,r=t.data,e=t.action,o=t.error;return[c,{url:n,data:r,action:e,error:o}]},del:function(t){var n=t.url,r=t.action,e=t.error;return[i,{url:n,action:r,error:e}]}};exports.Http=f;var s=function(t,n){var r=t.to;history.pushState(null,"",r),dispatchEvent(new CustomEvent("pushstate"))},p=function(t,n){var r=t.action,e=function(t){n(r,window.location.pathname)};return addEventListener("pushstate",e),addEventListener("popstate",e),function(){removeEventListener("pushstate",e),removeEventListener("popstate",e)}},l={go:function(t){var n=t.to;return[s,{to:n}]},changed:function(t){var n=t.action;return[p,{action:n}]}};exports.Location=l;var v=function(e,o){var u=e.to,a=r(e,["to"]);return(0,t.h)("a",n({href:u,onclick:[h,u]},a),o)};exports.Link=v;var h=function(t,n,r){return r.preventDefault(),[t,l.go({to:n})]},d=function(){var t=new Event("mount"),n=document.createElement.bind(document);document.createElement=function(r){var e=n(r);return setTimeout(function(){return e.dispatchEvent(t)}),e}};exports.enableOnMountDomEvent=d;
},{"hyperapp":"/xJO"}],"wVfI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloseModal=exports.FetchUserFailed=exports.SetUser=exports.FetchUser=exports.ReceiveUsers=exports.FetchUsersFailed=exports.FetchUsers=exports.ParseUrl=void 0;var e=require("../utils");function r(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{},n=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),n.forEach(function(r){t(e,r,s[r])})}return e}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s=function(e,t){return r({},e,{userId:t.split("/").filter(function(e,r){return 0!==r})[0]})};exports.ParseUrl=s;var n=function(t){return[r({},t,{isFetching:!0}),e.Http.get({url:"/users",action:i,error:o})]};exports.FetchUsers=n;var o=function(e){return r({},e,{isFetching:!1,fetched:!1})};exports.FetchUsersFailed=o;var i=function(e,t){return r({},e,{isFetching:!1,fetched:!0,users:t.data})};exports.ReceiveUsers=i;var u=function(r,t){if(!r.userData[t]||!r.userData[t].id)return[c(r,t,{isFetching:!0}),e.Http.get({url:"/users/"+t,action:[c,t],error:[a,t]})]};exports.FetchUser=u;var c=function(e,s,n){return r({},e,{userData:r({},e.userData,t({},s,n))})};exports.SetUser=c;var a=function(e,r,t){return c(e,r,{isFetching:!1,error:t.message})};exports.FetchUserFailed=a;var l=function(r,t){return t.preventDefault(),[r,e.Location.go({to:"/"})]};exports.CloseModal=l;
},{"../utils":"FO+Z"}],"b3LB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.view=void 0;var l=require("hyperapp"),a=require("../utils"),e=require("./actions"),s=function(e){return(0,l.h)("main",{class:"app"},(0,l.h)("div",{class:"hero bg-gray"},(0,l.h)("div",{class:"hero-body wrapper"},(0,l.h)("h1",null,"User List"),(0,l.h)("p",null,"From a REST API"))),(0,l.h)("div",{class:"container wrapper"},(0,l.h)("table",{class:"table table-striped table-hover"},(0,l.h)("thead",null,(0,l.h)("tr",null,(0,l.h)("th",null,"#"),(0,l.h)("th",null,"name"),(0,l.h)("th",null,"email"))),(0,l.h)("tbody",null,e.isFetching?(0,l.h)("tr",null,(0,l.h)("td",{colspan:"3",align:"center"},(0,l.h)("div",{class:"loading loading-lg"}))):e.fetched?e.users.map(function(e){return(0,l.h)("tr",null,(0,l.h)("td",null,e.id),(0,l.h)("td",null,(0,l.h)(a.Link,{to:"/"+e.id},e.name)),(0,l.h)("td",null,e.email))}):(0,l.h)("tr",null,(0,l.h)("td",{colspan:"3",align:"center"},(0,l.h)("b",null,"Fetch failed")))))),e.userId&&(0,l.h)(n,{userId:e.userId,user:e.userData[e.userId]}),(0,l.h)("pre",{class:"state"},JSON.stringify(e,null,2)))};exports.view=s;var n=function(a){var s=a.userId,n=a.user;return(0,l.h)("div",{class:{modal:!0,active:!!n},onclick:e.CloseModal,onmount:[e.FetchUser,s]},(0,l.h)("a",{class:"modal-overlay",onclick:e.CloseModal,"aria-label":"Close"}),n&&(0,l.h)("div",{class:"modal-container",role:"document"},(0,l.h)("div",{class:"modal-header"},(0,l.h)("a",{class:"btn btn-clear float-right","aria-label":"Close"}),(0,l.h)("div",{class:"modal-title h5"},n.id?"User #".concat(n.id):"Loading...")),(0,l.h)("div",{class:"modal-body"},n.id?(0,l.h)("div",{class:"content"},(0,l.h)("span",null,"Name: "),(0,l.h)("h4",null,n.name),(0,l.h)("span",null,"Email: "),(0,l.h)("h4",null,n.email)):n.error?(0,l.h)("b",null,"Error fetching user"):(0,l.h)("div",{class:"loading loading-lg"})),(0,l.h)("div",{class:"modal-footer"},(0,l.h)("button",{class:"btn btn-primary"},"Share"),(0,l.h)("a",{class:"btn btn-link"},"Close"))))};
},{"hyperapp":"/xJO","../utils":"FO+Z","./actions":"wVfI"}],"s8l1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscriptions=void 0;var e=require("../utils"),r=require("./actions"),o=function(o){return console.log(o),[e.Location.changed({action:r.ParseUrl})]};exports.subscriptions=o;
},{"../utils":"FO+Z","./actions":"wVfI"}],"A2T1":[function(require,module,exports) {
"use strict";var e=require("hyperapp");require("spectre.css"),require("./style.css");var i=require("./app/init"),r=require("./app/view"),s=require("./app/subscriptions"),t=require("./app/actions"),p=require("./utils");(0,p.enableOnMountDomEvent)(),(0,e.app)({init:(0,t.FetchUsers)((0,t.ParseUrl)(i.init,window.location.pathname)),view:r.view,subscriptions:s.subscriptions,container:document.body});
},{"hyperapp":"/xJO","spectre.css":"Rpok","./style.css":"Rpok","./app/init":"wGeL","./app/view":"b3LB","./app/subscriptions":"s8l1","./app/actions":"wVfI","./utils":"FO+Z"}]},{},["A2T1"], null)